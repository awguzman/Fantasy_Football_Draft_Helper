# Fantasy Football Draft Helper

This is a repository of Python tools intended to use data science and machine learning to help me draft in my various 
fantasy football leagues. 

**Features**
- Draft Boards: Both for Best Ball redraft and Sleeper.com based Dynasty formats.
- Touchdown Regression: Linear touchdown scoring regression calculator for RB's, WR's, and TE's.
- Performance Prediction: Fantasy point prediction classifiers for both rookie and veteran players.
- AI Drafters: Deep reinforcement learning based drafting agents used to make pick recommendations.

**Packages**
- Data pipeline: Pandas, NumPy and nfl_data_py (for NFL stats and play-by-play data)
- Visualizations: matplotlib with adjustText (for overcrowded scatter plots)
- Machine Learning: PyTorch, scikit-learn, and XGBoost

**Planned additions/updates**
- Integrate Sleeper.com API into RL algorithms for live pick recommendations.
- Best-Ball live draft board using Sleeper.com API
- Implement a non-linear touchdown regression model
-------------------------------------------------------------------------------------------------------------------------------
**[Best_Ball](Best_Ball)**

This folder contains two python scripts and one called auxiliary file. The purpose is to generate a draft board for 
Best Ball formats. If a draft is hosted via Sleeper.com, then we can live update the draft board as well.
- [Get_Sleeper_Player_Map.py](Best_Ball/Get_Sleeper_Player_Map.py): Auxiliary script that should be run once a season after each draft to update it with 
rookies. Its purpose is to provide player ID's that are needed to interact with the Sleeper.com API. 
- [Best_Ball_Draft_Board.py](Best_Ball/Best_Ball_Draft_Board.py): This is the main draft board creation script. We scrape data from Fantasypros.com and 
calculate various statistics to build a draft board. This should only need to be run once prior to the start of the draft.
- [Best_Ball_Live_Draft.py](Best_Ball/Best_Ball_Live_Draft.py): This is the main script. We utilize the Sleeper.com API to live update the draft board 
generated by Best_Ball_Draft_Board.py. Checks to see if the other two scripts have been run and runs them if needed.

**Draft_Optimizer**

Contains a variety of increasingly complex multi-agent reinforcement learning algorithms which train on the real-world 
draft board data provided by Best_Ball_Live_Draft.py. Current status of implementations:
1. Tabular Q-Learning (MAQL): Implemented. 
2. Deep Q-Learning (MADQL): Implemented. 
3. Advantage Actor-Critic (A2C): Implemented. Best performing algorithm.
4. Proximal Policy Optimization (PPO): Implemented. Near equal performance to A2C.

Thunderdome.py: A competitive evaluation environment where three agents of each of the above types draft against one 
another. Points per type are added up and a winner is deduced from the largest total points. We use this to evaluate 
the algorithms against one another.
![screenshot](Draft_Optimizer/thunderdome_1000.png)

Note: Due to the limitations of Q-learning, we Q-agent's state only encompasses its own team. The deep learning 
algorithms all take into account the other teams compositions.

**Dynasty**

Contains two python scripts and one called auxiliary file. Get_Sleeper_Player_Map.py should be run once a season after 
each draft to update it with rookies. Dynasty_Draft_Board.py should be run once on draft day and provides a complete 
dynasty draft board for your Sleeper.com league.

**Performance_Predictions**

Contains a variety of classifiers (as of now, XGBoost based) designed to perform predictive analysis with respect to 
fantasy production.
1. Rookie_classifier.py currently predicts rookie first year fantasy performance based on draft overall and combine 
data. Planning on incorporating college career data in the future.
2. Draft_Tiers.py predicts player performance for the upcoming season based on that players previous seasons stats.

**Touchdown Regression**

We compute touchdown regression candidates based on historical scoring probabilities. Below is an example for RB's in 
the 2024 season.
![screenshot](Touchdown%20Regression/RB2024Reg.png)